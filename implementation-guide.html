<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pydantic AI Agent Framework - Implementation Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <style>
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 10;
        }
        .code-container {
            position: relative;
        }
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4rem 0;
        }
        .feature-card {
            transition: transform 0.2s;
            height: 100%;
        }
        .feature-card:hover {
            transform: translateY(-5px);
        }
        .step-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
        }
        .toc {
            position: sticky;
            top: 20px;
        }
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 0.375rem;
            padding: 1rem;
            margin: 1rem 0;
        }
        .alert-info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border-color: #b6d4d9;
        }
        .alert-success {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border-color: #c3e6cb;
        }
        .alert-warning {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border-color: #ffeaa7;
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-4 fw-bold mb-3">
                        <i class="bi bi-robot"></i>
                        Pydantic AI Agent Framework
                    </h1>
                    <p class="lead mb-4">
                        Complete Implementation Guide - Build and deploy AI agents with a user-friendly web interface
                    </p>
                    <div class="d-flex gap-3">
                        <a href="#quick-start" class="btn btn-light btn-lg">
                            <i class="bi bi-rocket"></i> Quick Start
                        </a>
                        <a href="#features" class="btn btn-outline-light btn-lg">
                            <i class="bi bi-list-check"></i> Features
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 text-center">
                    <i class="bi bi-diagram-3 display-1"></i>
                </div>
            </div>
        </div>
    </section>

    <div class="container-fluid">
        <div class="row">
            <!-- Table of Contents -->
            <div class="col-lg-3 d-none d-lg-block">
                <div class="toc p-3">
                    <h5>Table of Contents</h5>
                    <nav class="nav flex-column">
                        <a class="nav-link" href="#overview">Overview</a>
                        <a class="nav-link" href="#prerequisites">Prerequisites</a>
                        <a class="nav-link" href="#quick-start">Quick Start</a>
                        <a class="nav-link" href="#features">Features</a>
                        <a class="nav-link" href="#detailed-setup">Detailed Setup</a>
                        <a class="nav-link" href="#api-keys">Getting API Keys</a>
                        <a class="nav-link" href="#usage">Usage Guide</a>
                        <a class="nav-link" href="#integration">Integration</a>
                        <a class="nav-link" href="#cursor-integration">Cursor Integration</a>
                        <a class="nav-link" href="#troubleshooting">Troubleshooting</a>
                        <a class="nav-link" href="#deployment">Deployment</a>
                    </nav>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-lg-9">
                <div class="p-4">
                    <!-- Overview -->
                    <section id="overview" class="mb-5">
                        <h2><i class="bi bi-info-circle"></i> Overview</h2>
                        <p>The Pydantic AI Agent Framework provides a complete solution for building, managing, and deploying AI agents with minimal coding required. Built on top of the powerful Pydantic AI library, it offers:</p>
                        
                        <div class="row mt-4" id="features">
                            <div class="col-md-6 mb-3">
                                <div class="card feature-card">
                                    <div class="card-body">
                                        <h5><i class="bi bi-globe text-primary"></i> Web Interface</h5>
                                        <p>User-friendly dashboard for managing agents without coding</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="card feature-card">
                                    <div class="card-body">
                                        <h5><i class="bi bi-cpu text-success"></i> Multi-Model Support</h5>
                                        <p>Works with OpenAI, Anthropic, Gemini, and more</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="card feature-card">
                                    <div class="card-body">
                                        <h5><i class="bi bi-chat-dots text-info"></i> Real-time Chat</h5>
                                        <p>Interactive chat interface with conversation history</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="card feature-card">
                                    <div class="card-body">
                                        <h5><i class="bi bi-tools text-warning"></i> Tool Integration</h5>
                                        <p>Built-in tools for web search, calculations, and file reading</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Prerequisites -->
                    <section id="prerequisites" class="mb-5">
                        <h2><i class="bi bi-list-check"></i> Prerequisites</h2>
                        <div class="alert alert-info">
                            <h5><i class="bi bi-info-circle"></i> What You Need</h5>
                            <ul class="mb-0">
                                <li>Python 3.8 or higher</li>
                                <li>Git (for cloning the repository)</li>
                                <li>An API key from at least one LLM provider</li>
                                <li>Basic command line knowledge</li>
                            </ul>
                        </div>
                    </section>

                    <!-- Quick Start -->
                    <section id="quick-start" class="mb-5">
                        <h2><i class="bi bi-rocket"></i> Quick Start</h2>
                        <p>Get up and running in under 5 minutes!</p>

                        <div class="row">
                            <div class="col-12">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="step-number">1</div>
                                    <h4 class="mb-0">Clone the Repository</h4>
                                </div>
                                <div class="code-container">
                                    <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('clone-cmd')">
                                        <i class="bi bi-clipboard"></i> Copy
                                    </button>
                                    <pre id="clone-cmd"><code>git clone https://github.com/yourusername/pydantic-ai-framework.git
cd pydantic-ai-framework</code></pre>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="step-number">2</div>
                                    <h4 class="mb-0">Run Setup Script</h4>
                                </div>
                                <div class="code-container">
                                    <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('setup-cmd')">
                                        <i class="bi bi-clipboard"></i> Copy
                                    </button>
                                    <pre id="setup-cmd"><code>python3 setup.py</code></pre>
                                </div>
                                <div class="alert alert-success">
                                    <strong>What this does:</strong>
                                    <ul class="mb-0">
                                        <li>Creates necessary directories</li>
                                        <li>Installs all dependencies</li>
                                        <li>Creates .env file from template</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="step-number">3</div>
                                    <h4 class="mb-0">Configure API Keys</h4>
                                </div>
                                <p>Edit the <code>.env</code> file and add your API key:</p>
                                <div class="code-container">
                                    <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('env-cmd')">
                                        <i class="bi bi-clipboard"></i> Copy
                                    </button>
                                    <pre id="env-cmd"><code># For OpenAI (most common)
OPENAI_API_KEY=your-openai-api-key-here

# For Anthropic (optional)
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# For Google Gemini (optional)
GEMINI_API_KEY=your-gemini-api-key-here</code></pre>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="step-number">4</div>
                                    <h4 class="mb-0">Start the Application</h4>
                                </div>
                                <div class="code-container">
                                    <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('start-cmd')">
                                        <i class="bi bi-clipboard"></i> Copy
                                    </button>
                                    <pre id="start-cmd"><code>python3 app.py</code></pre>
                                </div>
                                <div class="alert alert-success">
                                    <strong>ðŸŽ‰ Success!</strong> Open your browser to <a href="http://localhost:8000" target="_blank">http://localhost:8000</a>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Detailed Setup -->
                    <section id="detailed-setup" class="mb-5">
                        <h2><i class="bi bi-gear"></i> Detailed Setup (Alternative)</h2>
                        <p>If you prefer manual setup or the automated script doesn't work:</p>

                        <h4>Manual Installation</h4>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('manual-install')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="manual-install"><code># Install dependencies
pip install -r requirements.txt

# Create environment file
cp .env.example .env

# Create directories
mkdir -p agents/templates config data logs static/css static/js templates utils</code></pre>
                        </div>

                        <h4>Verify Installation</h4>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('verify-cmd')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="verify-cmd"><code>python3 -c "import pydantic_ai; print('âœ… Pydantic AI imported successfully')"</code></pre>
                        </div>
                    </section>

                    <!-- API Keys -->
                    <section id="api-keys" class="mb-5">
                        <h2><i class="bi bi-key"></i> Getting API Keys</h2>
                        
                        <div class="row">
                            <div class="col-md-4">
                                <div class="card h-100">
                                    <div class="card-header bg-primary text-white">
                                        <h5><i class="bi bi-openai"></i> OpenAI</h5>
                                    </div>
                                    <div class="card-body">
                                        <ol>
                                            <li>Go to <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI API Keys</a></li>
                                            <li>Create account or sign in</li>
                                            <li>Click "Create new secret key"</li>
                                            <li>Copy the key to your .env file</li>
                                        </ol>
                                        <div class="code-container">
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('openai-env')">
                                                <i class="bi bi-clipboard"></i> Copy
                                            </button>
                                            <pre id="openai-env"><code>OPENAI_API_KEY=sk-...</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="card h-100">
                                    <div class="card-header bg-success text-white">
                                        <h5><i class="bi bi-anthropic"></i> Anthropic</h5>
                                    </div>
                                    <div class="card-body">
                                        <ol>
                                            <li>Go to <a href="https://console.anthropic.com/" target="_blank">Anthropic Console</a></li>
                                            <li>Create account or sign in</li>
                                            <li>Generate API key</li>
                                            <li>Copy the key to your .env file</li>
                                        </ol>
                                        <div class="code-container">
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('anthropic-env')">
                                                <i class="bi bi-clipboard"></i> Copy
                                            </button>
                                            <pre id="anthropic-env"><code>ANTHROPIC_API_KEY=sk-ant-...</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="card h-100">
                                    <div class="card-header bg-info text-white">
                                        <h5><i class="bi bi-google"></i> Google Gemini</h5>
                                    </div>
                                    <div class="card-body">
                                        <ol>
                                            <li>Go to <a href="https://makersuite.google.com/app/apikey" target="_blank">Google AI Studio</a></li>
                                            <li>Create account or sign in</li>
                                            <li>Generate API key</li>
                                            <li>Copy the key to your .env file</li>
                                        </ol>
                                        <div class="code-container">
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('gemini-env')">
                                                <i class="bi bi-clipboard"></i> Copy
                                            </button>
                                            <pre id="gemini-env"><code>GEMINI_API_KEY=AIza...</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Usage Guide -->
                    <section id="usage" class="mb-5">
                        <h2><i class="bi bi-play-circle"></i> Usage Guide</h2>
                        
                        <h4>Creating Your First Agent</h4>
                        <ol>
                            <li>Open <a href="http://localhost:8000" target="_blank">http://localhost:8000</a> in your browser</li>
                            <li>Click "Create New Agent" on the dashboard</li>
                            <li>Choose a template or create from scratch</li>
                            <li>Configure the agent settings:
                                <ul>
                                    <li><strong>Name</strong>: Give your agent a descriptive name</li>
                                    <li><strong>Description</strong>: Explain what the agent does</li>
                                    <li><strong>System Prompt</strong>: Define the agent's behavior and personality</li>
                                    <li><strong>Model</strong>: Choose provider and specific model</li>
                                    <li><strong>Temperature</strong>: Control creativity (0 = focused, 1 = creative)</li>
                                    <li><strong>Tools</strong>: Add capabilities like web search or calculator</li>
                                </ul>
                            </li>
                            <li>Save the agent</li>
                            <li>Start chatting!</li>
                        </ol>

                        <h4>Pre-built Templates</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h6><i class="bi bi-person-circle"></i> General Assistant</h6>
                                        <p>Helpful general-purpose AI for everyday tasks</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h6><i class="bi bi-code-slash"></i> Code Assistant</h6>
                                        <p>Specialized for programming and development</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h6><i class="bi bi-search"></i> Research Assistant</h6>
                                        <p>Optimized for information gathering and analysis</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h6><i class="bi bi-calculator"></i> Math Tutor</h6>
                                        <p>Focused on mathematical problem-solving</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Integration -->
                    <section id="integration" class="mb-5">
                        <h2><i class="bi bi-puzzle"></i> Integration with Other Projects</h2>
                        
                        <h4>As a Python Package</h4>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('python-integration')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="python-integration"><code>from utils.agent_manager import AgentManager
from utils.config_manager import ConfigManager

# Initialize managers
agent_manager = AgentManager()
config_manager = ConfigManager()

# Load an agent
agent_config = await agent_manager.get_agent("agent_id")
agent_instance = await agent_manager.create_agent_instance(agent_config)

# Use the agent
result = await agent_instance.run("Hello, how are you?")
print(result.data)</code></pre>
                        </div>

                        <h4>Via REST API</h4>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('api-examples')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="api-examples"><code># Get all agents
curl http://localhost:8000/api/agents

# Chat with an agent
curl -X POST http://localhost:8000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"agent_id": "your-agent-id", "message": "Hello!"}'

# Export agent configuration
curl http://localhost:8000/api/agents/your-agent-id/export

# Get conversation history
curl http://localhost:8000/api/agents/your-agent-id/history?limit=10</code></pre>
                        </div>

                        <h4>Configuration Export/Import</h4>
                        <p>Export agent configurations as JSON files for:</p>
                        <ul>
                            <li>Sharing with team members</li>
                            <li>Version control</li>
                            <li>Backup and restore</li>
                            <li>Deployment across environments</li>
                        </ul>
                    </section>

                    <!-- Cursor Integration -->
                    <section id="cursor-integration" class="mb-5">
                        <h2><i class="bi bi-cursor"></i> Cursor IDE Integration</h2>
                        <p>Integrate the Pydantic AI Framework into your existing Cursor projects with ease!</p>
                        
                        <div class="alert alert-info">
                            <h5><i class="bi bi-lightbulb"></i> Why Integrate with Cursor?</h5>
                            <ul class="mb-0">
                                <li>Add AI capabilities to existing projects without starting from scratch</li>
                                <li>Leverage Cursor's AI features alongside the framework</li>
                                <li>Maintain your existing project structure and workflow</li>
                                <li>Use the framework as a library or service</li>
                            </ul>
                        </div>

                        <h4>Integration Methods</h4>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="card h-100">
                                    <div class="card-header bg-primary text-white">
                                        <h6><i class="bi bi-git"></i> Git Submodule (Recommended)</h6>
                                    </div>
                                    <div class="card-body">
                                        <p>Keep the framework separate but accessible</p>
                                        <ul class="small">
                                            <li>Clean separation</li>
                                            <li>Easy updates</li>
                                            <li>Version control</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card h-100">
                                    <div class="card-header bg-success text-white">
                                        <h6><i class="bi bi-files"></i> Copy Components</h6>
                                    </div>
                                    <div class="card-body">
                                        <p>Copy only what you need</p>
                                        <ul class="small">
                                            <li>Minimal footprint</li>
                                            <li>Full control</li>
                                            <li>No dependencies</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card h-100">
                                    <div class="card-header bg-info text-white">
                                        <h6><i class="bi bi-robot"></i> Automated Script</h6>
                                    </div>
                                    <div class="card-body">
                                        <p>One-command integration</p>
                                        <ul class="small">
                                            <li>Fully automated</li>
                                            <li>Creates all files</li>
                                            <li>Ready to use</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h4 class="mt-4">Quick Integration (Automated)</h4>
                        <p>The fastest way to integrate into your existing Cursor project:</p>
                        
                        <div class="d-flex align-items-center mb-3">
                            <div class="step-number">1</div>
                            <h5 class="mb-0">Navigate to Your Project</h5>
                        </div>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('cursor-nav')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="cursor-nav"><code>cd /path/to/your/existing/project</code></pre>
                        </div>

                        <div class="d-flex align-items-center mb-3">
                            <div class="step-number">2</div>
                            <h5 class="mb-0">Download Integration Script</h5>
                        </div>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('cursor-download')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="cursor-download"><code>curl -O https://raw.githubusercontent.com/yourusername/pydantic-ai-framework/main/integrate.py</code></pre>
                        </div>

                        <div class="d-flex align-items-center mb-3">
                            <div class="step-number">3</div>
                            <h5 class="mb-0">Run Integration</h5>
                        </div>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('cursor-integrate')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="cursor-integrate"><code>python3 integrate.py --repo-url https://github.com/yourusername/pydantic-ai-framework.git</code></pre>
                        </div>

                        <div class="alert alert-success">
                            <strong>ðŸŽ‰ Done!</strong> The script will:
                            <ul class="mb-0">
                                <li>Add the framework as a git submodule</li>
                                <li>Install dependencies</li>
                                <li>Create .cursorrules and composer.md files</li>
                                <li>Update your .env and requirements.txt</li>
                                <li>Generate an example integration file</li>
                            </ul>
                        </div>

                        <h4>Manual Submodule Integration</h4>
                        <p>For more control over the integration process:</p>
                        
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('manual-submodule')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="manual-submodule"><code># Add framework as submodule
git submodule add https://github.com/yourusername/pydantic-ai-framework.git ai-framework

# Initialize and update
git submodule update --init --recursive

# Install dependencies
cd ai-framework
python3 -m pip install -r requirements.txt

# Copy environment template
cp .env.example .env
# Edit .env and add your API keys</code></pre>
                        </div>

                        <h4>Cursor-Specific Files</h4>
                        <p>The integration creates special files to optimize your Cursor workflow:</p>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h6><i class="bi bi-file-code"></i> .cursorrules</h6>
                                    </div>
                                    <div class="card-body">
                                        <p>Provides context to Cursor's AI about:</p>
                                        <ul class="small">
                                            <li>Agent management patterns</li>
                                            <li>Code structure and conventions</li>
                                            <li>Best practices for AI integration</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h6><i class="bi bi-file-text"></i> composer.md</h6>
                                    </div>
                                    <div class="card-body">
                                        <p>Instructions for Cursor Composer:</p>
                                        <ul class="small">
                                            <li>Common AI integration tasks</li>
                                            <li>File locations and structure</li>
                                            <li>Code generation patterns</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h4>Usage in Your Project</h4>
                        <p>Once integrated, use the framework in your existing code:</p>

                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('cursor-usage')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="cursor-usage"><code># Import the framework (submodule method)
import sys
sys.path.append('./ai-framework')

from ai_framework.utils.agent_manager import AgentManager

# Create and use an agent
async def add_ai_to_my_app():
    agent_manager = AgentManager()
    
    # Create agent configuration
    config = {
        "name": "My App Assistant",
        "system_prompt": "You help users with my application",
        "model_provider": "openai",
        "model_name": "gpt-3.5-turbo"
    }
    
    # Create and use the agent
    agent_id = await agent_manager.create_agent(config)
    agent = await agent_manager.get_agent_instance(agent_id)
    
    result = await agent.run("Help the user with their question")
    return result.data</code></pre>
                        </div>

                        <h4>Integration Examples</h4>
                        
                        <div class="accordion" id="cursorExamplesAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#web-app-example">
                                        <i class="bi bi-globe"></i> &nbsp; Web Application Integration
                                    </button>
                                </h2>
                                <div id="web-app-example" class="accordion-collapse collapse show" data-bs-parent="#cursorExamplesAccordion">
                                    <div class="accordion-body">
                                        <div class="code-container">
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('web-app-code')">
                                                <i class="bi bi-clipboard"></i> Copy
                                            </button>
                                            <pre id="web-app-code"><code># Add to your Flask/FastAPI app
from ai_framework.utils.agent_manager import AgentManager

app = FastAPI()  # or Flask()
agent_manager = AgentManager()

@app.post("/ai-chat")
async def ai_chat(message: str, user_id: str):
    try:
        # Get or create user-specific agent
        agent = await agent_manager.get_agent_instance("customer-support")
        result = await agent.run(f"User {user_id}: {message}")
        return {"response": result.data, "success": True}
    except Exception as e:
        return {"error": str(e), "success": False}</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#data-processing-example">
                                        <i class="bi bi-database"></i> &nbsp; Data Processing Integration
                                    </button>
                                </h2>
                                <div id="data-processing-example" class="accordion-collapse collapse" data-bs-parent="#cursorExamplesAccordion">
                                    <div class="accordion-body">
                                        <div class="code-container">
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('data-processing-code')">
                                                <i class="bi bi-clipboard"></i> Copy
                                            </button>
                                            <pre id="data-processing-code"><code># Add AI analysis to your data pipeline
import asyncio
from ai_framework.utils.agent_manager import AgentManager

async def analyze_data_with_ai(data_batch):
    agent_manager = AgentManager()
    analyst_agent = await agent_manager.get_agent_instance("data-analyst")
    
    results = []
    for item in data_batch:
        prompt = f"Analyze this data point: {item}"
        analysis = await analyst_agent.run(prompt)
        results.append({
            "original": item,
            "analysis": analysis.data,
            "timestamp": datetime.now()
        })
    
    return results

# Use in your existing pipeline
processed_data = asyncio.run(analyze_data_with_ai(your_data))</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#cli-example">
                                        <i class="bi bi-terminal"></i> &nbsp; CLI Tool Integration
                                    </button>
                                </h2>
                                <div id="cli-example" class="accordion-collapse collapse" data-bs-parent="#cursorExamplesAccordion">
                                    <div class="accordion-body">
                                        <div class="code-container">
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('cli-code')">
                                                <i class="bi bi-clipboard"></i> Copy
                                            </button>
                                            <pre id="cli-code"><code># Add AI commands to your CLI tool
import click
import asyncio
from ai_framework.utils.agent_manager import AgentManager

@click.group()
def cli():
    """Your existing CLI tool with AI capabilities"""
    pass

@cli.command()
@click.option('--agent', default='general-assistant')
@click.option('--message', prompt='Your message')
def ask(agent, message):
    """Ask an AI agent a question"""
    async def run_query():
        agent_manager = AgentManager()
        agent_instance = await agent_manager.get_agent_instance(agent)
        result = await agent_instance.run(message)
        click.echo(f"ðŸ¤– {result.data}")
    
    asyncio.run(run_query())

if __name__ == '__main__':
    cli()</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h4>Cursor Workflow Tips</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h6><i class="bi bi-magic"></i> Use Cursor's AI</h6>
                                        <ul class="small">
                                            <li>Ask Cursor to create agent configurations</li>
                                            <li>Generate system prompts with AI assistance</li>
                                            <li>Let Cursor help with tool definitions</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h6><i class="bi bi-bug"></i> Debugging</h6>
                                        <ul class="small">
                                            <li>Set breakpoints in agent_manager.py</li>
                                            <li>Use Cursor's variable inspection</li>
                                            <li>Debug AI responses step by step</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-warning mt-3">
                            <h6><i class="bi bi-exclamation-triangle"></i> Important Notes</h6>
                            <ul class="mb-0">
                                <li>Make sure to add your API keys to the .env file</li>
                                <li>Install dependencies: <code>pip install -r requirements.txt</code></li>
                                <li>Test the integration with the generated example file</li>
                                <li>See <code>CURSOR_INTEGRATION.md</code> for detailed documentation</li>
                            </ul>
                        </div>
                    </section>

                    <!-- Troubleshooting -->
                    <section id="troubleshooting" class="mb-5">
                        <h2><i class="bi bi-tools"></i> Troubleshooting</h2>
                        
                        <div class="accordion" id="troubleshootingAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#import-errors">
                                        Import Errors
                                    </button>
                                </h2>
                                <div id="import-errors" class="accordion-collapse collapse show" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <div class="code-container">
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('fix-imports')">
                                                <i class="bi bi-clipboard"></i> Copy
                                            </button>
                                            <pre id="fix-imports"><code># Reinstall dependencies
pip install -r requirements.txt

# Or try with force reinstall
pip install --force-reinstall -r requirements.txt</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#api-errors">
                                        API Key Errors
                                    </button>
                                </h2>
                                <div id="api-errors" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <ul>
                                            <li>Verify API keys are correct in .env file</li>
                                            <li>Check you have sufficient credits/quota</li>
                                            <li>Ensure API key has necessary permissions</li>
                                            <li>Try regenerating the API key</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#port-errors">
                                        Port Already in Use
                                    </button>
                                </h2>
                                <div id="port-errors" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <div class="code-container">
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('change-port')">
                                                <i class="bi bi-clipboard"></i> Copy
                                            </button>
                                            <pre id="change-port"><code># Change port in .env file
PORT=8001

# Or run with different port
python3 app.py --port 8001</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#database-errors">
                                        Database Issues
                                    </button>
                                </h2>
                                <div id="database-errors" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <div class="code-container">
                                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('reset-db')">
                                                <i class="bi bi-clipboard"></i> Copy
                                            </button>
                                            <pre id="reset-db"><code># Reset database (removes all data)
rm data/agents.db

# Restart application to recreate database
python3 app.py</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Deployment -->
                    <section id="deployment" class="mb-5">
                        <h2><i class="bi bi-cloud-upload"></i> Production Deployment</h2>
                        
                        <h4>Environment Variables for Production</h4>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('prod-env')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="prod-env"><code>DEBUG=False
SECRET_KEY=your-secret-key-here
DATABASE_URL=your-production-database-url
HOST=0.0.0.0
PORT=8000</code></pre>
                        </div>

                        <h4>Using Docker</h4>
                        <p>Create a <code>Dockerfile</code>:</p>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('dockerfile')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="dockerfile"><code>FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 8000

CMD ["python", "app.py"]</code></pre>
                        </div>

                        <p>Build and run:</p>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('docker-commands')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="docker-commands"><code>docker build -t pydantic-ai-framework .
docker run -p 8000:8000 pydantic-ai-framework</code></pre>
                        </div>

                        <h4>Using Gunicorn (Recommended for Production)</h4>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('gunicorn-install')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="gunicorn-install"><code># Install gunicorn
pip install gunicorn

# Run with gunicorn
gunicorn -w 4 -k uvicorn.workers.UvicornWorker app:app --bind 0.0.0.0:8000</code></pre>
                        </div>
                    </section>

                    <!-- Development -->
                    <section id="development" class="mb-5">
                        <h2><i class="bi bi-code-square"></i> Development</h2>
                        
                        <h4>Running in Development Mode</h4>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('dev-mode')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="dev-mode"><code># Enable debug mode in .env
DEBUG=True

# Run with auto-reload
python3 app.py</code></pre>
                        </div>

                        <h4>Code Formatting</h4>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('formatting')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="formatting"><code># Format code
black .
isort .</code></pre>
                        </div>

                        <h4>Running Tests</h4>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('testing')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="testing"><code># Run tests
pytest

# Run with coverage
pytest --cov=.</code></pre>
                        </div>
                    </section>

                    <!-- Project Structure -->
                    <section id="structure" class="mb-5">
                        <h2><i class="bi bi-folder"></i> Project Structure</h2>
                        <div class="code-container">
                            <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('project-structure')">
                                <i class="bi bi-clipboard"></i> Copy
                            </button>
                            <pre id="project-structure"><code>pydantic-ai-framework/
â”œâ”€â”€ app.py                 # Main FastAPI application
â”œâ”€â”€ requirements.txt       # Python dependencies
â”œâ”€â”€ setup.py              # Automated setup script
â”œâ”€â”€ .env.example          # Environment variables template
â”œâ”€â”€ .gitignore            # Git ignore rules
â”œâ”€â”€ README.md             # Project overview
â”œâ”€â”€ SETUP.md              # Detailed setup guide
â”œâ”€â”€ implementation-guide.html # This guide
â”œâ”€â”€ utils/                # Core utilities
â”‚   â”œâ”€â”€ agent_manager.py  # Agent lifecycle management
â”‚   â”œâ”€â”€ config_manager.py # Configuration handling
â”‚   â””â”€â”€ database.py       # Data persistence
â”œâ”€â”€ config/               # Configuration files
â”‚   â””â”€â”€ settings.py       # Application settings
â”œâ”€â”€ templates/            # HTML templates
â”‚   â”œâ”€â”€ base.html         # Base template
â”‚   â”œâ”€â”€ dashboard.html    # Main dashboard
â”‚   â”œâ”€â”€ agents.html       # Agent management
â”‚   â””â”€â”€ chat.html         # Chat interface
â”œâ”€â”€ static/               # CSS, JS, and assets
â”‚   â”œâ”€â”€ css/style.css     # Custom styles
â”‚   â””â”€â”€ js/app.js         # Frontend JavaScript
â”œâ”€â”€ agents/               # Agent configurations (created at runtime)
â”‚   â””â”€â”€ templates/        # Agent templates
â”œâ”€â”€ config/               # Runtime configuration (created at runtime)
â”œâ”€â”€ data/                 # Database and data files (created at runtime)
â””â”€â”€ logs/                 # Application logs (created at runtime)</code></pre>
                        </div>
                    </section>

                    <!-- Support -->
                    <section id="support" class="mb-5">
                        <h2><i class="bi bi-question-circle"></i> Getting Help</h2>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5><i class="bi bi-github"></i> GitHub Issues</h5>
                                        <p>Report bugs or request features on GitHub</p>
                                        <a href="https://github.com/yourusername/pydantic-ai-framework/issues" class="btn btn-outline-primary" target="_blank">
                                            Open Issue
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5><i class="bi bi-book"></i> Documentation</h5>
                                        <p>Read the official Pydantic AI documentation</p>
                                        <a href="https://ai.pydantic.dev/" class="btn btn-outline-primary" target="_blank">
                                            View Docs
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Pydantic AI Agent Framework</h5>
                    <p>Built with â¤ï¸ using Pydantic AI, FastAPI, and Bootstrap</p>
                </div>
                <div class="col-md-6 text-end">
                    <p>
                        <a href="https://ai.pydantic.dev/" class="text-white" target="_blank">Pydantic AI</a> |
                        <a href="https://fastapi.tiangolo.com/" class="text-white" target="_blank">FastAPI</a> |
                        <a href="https://getbootstrap.com/" class="text-white" target="_blank">Bootstrap</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <script>
        // Copy to clipboard functionality
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent || element.innerText;
            
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => {
                    showCopySuccess(elementId);
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                    fallbackCopyTextToClipboard(text, elementId);
                });
            } else {
                fallbackCopyTextToClipboard(text, elementId);
            }
        }

        function fallbackCopyTextToClipboard(text, elementId) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopySuccess(elementId);
            } catch (err) {
                console.error('Fallback: Oops, unable to copy', err);
            } finally {
                textArea.remove();
            }
        }

        function showCopySuccess(elementId) {
            const button = document.querySelector(`[onclick="copyToClipboard('${elementId}')"]`);
            const originalHTML = button.innerHTML;
            button.innerHTML = '<i class="bi bi-check"></i> Copied!';
            button.classList.remove('btn-outline-secondary');
            button.classList.add('btn-success');
            
            setTimeout(() => {
                button.innerHTML = originalHTML;
                button.classList.remove('btn-success');
                button.classList.add('btn-outline-secondary');
            }, 2000);
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight active section in TOC
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.toc .nav-link');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
